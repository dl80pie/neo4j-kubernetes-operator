apiVersion: neo4j.neo4j.com/v1alpha1
kind: Neo4jPlugin
metadata:
  labels:
    app.kubernetes.io/name: neo4j-kubernetes-operator
    app.kubernetes.io/managed-by: kustomize
  name: neo4jplugin-standalone-sample
  namespace: default
spec:
  # References a Neo4jEnterpriseStandalone deployment
  clusterRef: neo4jenterprisestandalone-sample

  # Plugin configuration
  name: graph-data-science
  version: "2.10.0"
  enabled: true

  # Plugin source - community repository
  source:
    type: community

  # Plugin dependencies
  dependencies:
    - name: apoc
      versionConstraint: ">=5.26.0"
      optional: false

  # Plugin configuration
  config:
    "gds.enterprise.license_file": "/licenses/gds.license"

  # Security configuration
  security:
    allowedProcedures:
      - "gds.*"
      - "apoc.load.*"
    sandbox: true

  # Resource requirements
  resources:
    memoryLimit: "1Gi"
    cpuLimit: "500m"
    threadPoolSize: 4
